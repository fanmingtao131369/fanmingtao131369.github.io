<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>大民</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="笨鸟先飞">
<meta property="og:type" content="website">
<meta property="og:title" content="大民">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="大民">
<meta property="og:description" content="笨鸟先飞">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="大民">
<meta name="twitter:description" content="笨鸟先飞">
  
    <link rel="alternate" href="/atom.xml" title="大民" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">大民</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-op" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/30/op/" class="article-date">
  <time datetime="2016-09-29T16:00:00.000Z" itemprop="datePublished">2016-09-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/30/op/">React Native</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="进入你创建的react-native文件，输入命令"><a href="#进入你创建的react-native文件，输入命令" class="headerlink" title="进入你创建的react-native文件，输入命令"></a>进入你创建的react-native文件，输入命令</h2><h2 id="mkdir-pandroid-app-src-main-assets"><a href="#mkdir-pandroid-app-src-main-assets" class="headerlink" title="mkdir -pandroid/app/src/main/assets"></a>mkdir -pandroid/app/src/main/assets</h2><h2 id="然后运行下面的命令生成一个index-android-bundle文件"><a href="#然后运行下面的命令生成一个index-android-bundle文件" class="headerlink" title="然后运行下面的命令生成一个index.android.bundle文件"></a>然后运行下面的命令生成一个index.android.bundle文件</h2><h2 id="react-native-bundle-–platform-android-–dev-false-–entry-file-index-android-js"><a href="#react-native-bundle-–platform-android-–dev-false-–entry-file-index-android-js" class="headerlink" title="react-native bundle –platform android –dev false –entry-file index.android.js"></a>react-native bundle –platform android –dev false –entry-file index.android.js</h2><h2 id="–bundle-output-android-app-src-main-assets-index-android-bundle"><a href="#–bundle-output-android-app-src-main-assets-index-android-bundle" class="headerlink" title="–bundle-output android/app/src/main/assets/index.android.bundle"></a>–bundle-output android/app/src/main/assets/index.android.bundle</h2><h2 id="–assets-dest-android-app-src-main-res"><a href="#–assets-dest-android-app-src-main-res" class="headerlink" title="–assets-dest android/app/src/main/res/"></a>–assets-dest android/app/src/main/res/</h2><h2 id="然后输入命令打包"><a href="#然后输入命令打包" class="headerlink" title="然后输入命令打包"></a>然后输入命令打包</h2><h2 id="cd-android-amp-amp-gradlew-assembleRelease"><a href="#cd-android-amp-amp-gradlew-assembleRelease" class="headerlink" title="cd android &amp;&amp; ./gradlew assembleRelease"></a>cd android &amp;&amp; ./gradlew assembleRelease</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/30/op/" data-id="ciw7txc5i0007y2vyrb3gyxdb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ES6新特性" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/01/ES6新特性/" class="article-date">
  <time datetime="2016-08-31T16:00:00.000Z" itemprop="datePublished">2016-09-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/01/ES6新特性/">ES6</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ES6-特性"><a href="#ES6-特性" class="headerlink" title="ES6 特性"></a>ES6 特性</h1><p>我们先看下都有哪些</p>
<ul>
<li>Default Parameters（默认参数）</li>
<li>Template Literals （模板文本）</li>
<li>Multi-line Strings （多行字符串）</li>
<li>Destructuring Assignment （解构赋值）</li>
<li>Enhanced Object Literals （增强的对象文本）</li>
<li>Arrow Functions （箭头函数）</li>
<li>Promises</li>
<li>Block-Scoped Constructs Let and Const（块作用域构造Let and Const）</li>
<li>Classes（类）</li>
<li>Modules（模块）</li>
</ul>
<h4 id="Default-Parameters（默认参数）"><a href="#Default-Parameters（默认参数）" class="headerlink" title="Default Parameters（默认参数）"></a>Default Parameters（默认参数）</h4><p><code>before</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var fn = function (height) &#123;</div><div class="line">    var height = height || 50;</div><div class="line">       ...;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>now</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var fn = function (height=50) &#123;</div><div class="line">       ...;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Template-Literals（模板对象）"><a href="#Template-Literals（模板对象）" class="headerlink" title="Template Literals（模板对象）"></a>Template Literals（模板对象）</h4><p><code>before</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var name = &apos;Your name is &apos; + first + &apos; &apos; + last + &apos;.&apos;;</div></pre></td></tr></table></figure>
<p><code>now</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var name = `Your name is $&#123;first&#125; $&#123;last&#125;. `;</div></pre></td></tr></table></figure>
<h4 id="Multi-line-Strings-（多行字符串）"><a href="#Multi-line-Strings-（多行字符串）" class="headerlink" title="Multi-line Strings （多行字符串）"></a>Multi-line Strings （多行字符串）</h4><p><code>before</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var roadPoem = &apos;Then took the other, as just as fair,nt&apos;</div><div class="line">                + &apos;Had worn them really about the same,nt&apos;;</div></pre></td></tr></table></figure>
<p><code>now</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var roadPoem = `Then took the other, as just as fair,</div><div class="line">                Had worn them really about the same,`;</div></pre></td></tr></table></figure>
<h4 id="Destructuring-Assignment-（解构赋值）"><a href="#Destructuring-Assignment-（解构赋值）" class="headerlink" title="Destructuring Assignment （解构赋值）"></a>Destructuring Assignment （解构赋值）</h4><p><code>before</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">someArray=[1,2,3];</div><div class="line">var first = someArray[0];</div><div class="line">var second = someArray[1];</div><div class="line">var third = someArray[2];</div><div class="line"></div><div class="line">var obj=&#123; foo: &quot;lorem&quot;, bar: &quot;ipsum&quot; &#125;;</div><div class="line">var foo = obj.foo;</div><div class="line">var bar = obj.bar;</div></pre></td></tr></table></figure>
<p><code>now</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">someArray=[1,2,3];</div><div class="line">var [first, second, third] = someArray;</div><div class="line">console.log(first);  // 1</div><div class="line">console.log(second); // 2</div><div class="line">console.log(third);  // 3</div><div class="line"></div><div class="line">var &#123; foo, bar &#125; = &#123; foo: &quot;lorem&quot;, bar: &quot;ipsum&quot; &#125;;</div><div class="line">console.log(foo); // &quot;lorem&quot;</div><div class="line">console.log(bar); // &quot;ipsum&quot;</div></pre></td></tr></table></figure>
<h4 id="Enhanced-Object-Literals-（增强的对象字面量）"><a href="#Enhanced-Object-Literals-（增强的对象字面量）" class="headerlink" title="Enhanced Object Literals （增强的对象字面量）"></a>Enhanced Object Literals （增强的对象字面量）</h4><p><code>before</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var obj = &#123;</div><div class="line">    handler: handler,</div><div class="line">    toString: function() &#123;</div><div class="line">        return &quot;d &quot; + super.toString();</div><div class="line">    &#125;,</div><div class="line">    prop42: 42</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><code>now</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var obj = &#123;</div><div class="line">    handler,   //ES6特性 === handler: handler,</div><div class="line">    toString() &#123;   //ES6函数</div><div class="line">        return &quot;d &quot; + super.toString();</div><div class="line">       &#125;,</div><div class="line">    [ &apos;prop_&apos; + (() =&gt; 42)() ]: 42  </div><div class="line">    //主要是这个可以在字面量中加入变量 == prop42: 42</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="Arrow-Functions-in（箭头函数）"><a href="#Arrow-Functions-in（箭头函数）" class="headerlink" title="Arrow Functions in（箭头函数）"></a>Arrow Functions in（箭头函数）</h4><p>以前我们使用闭包，this总是预期之外地产生改变，而箭头函数的迷人之处在于，现在你的this可以按照你的预期使用了，身处箭头函数里面，this还是原来的this.</p>
<p>有了箭头函数在ES6中， 我们就不必用that = this或 self = this 或 _this = this 或.bind(this)如下:</p>
<p><code>before</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var _this = this;</div><div class="line">$(&apos;.btn&apos;).click(function(event)&#123;</div><div class="line">     _this.sendData();</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><code>now</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(&apos;.btn&apos;).click((event) =&gt;&#123;</div><div class="line">      this.sendData();</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h4 id="Promises-in-ES6"><a href="#Promises-in-ES6" class="headerlink" title="Promises in ES6"></a>Promises in ES6</h4><p><code>before</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">setTimeout(function()&#123;</div><div class="line">      console.log(&apos;Yay!&apos;);</div><div class="line">      setTimeout(function()&#123;</div><div class="line">        console.log(&apos;Wheeyee!&apos;);</div><div class="line">      &#125;, 1000)</div><div class="line">&#125;, 1000);</div></pre></td></tr></table></figure>
<p><code>now</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var wait1000 =  ()=&gt; new Promise((resolve, reject)=&gt; &#123;setTimeout(resolve, 1000)&#125;);</div><div class="line">wait1000()</div><div class="line">    .then(function() &#123;</div><div class="line">        console.log(&apos;Yay!&apos;)</div><div class="line">        return wait1000()</div><div class="line">    &#125;)</div><div class="line">    .then(function() &#123;</div><div class="line">           console.log(&apos;Wheeyee!&apos;)</div><div class="line">       &#125;);</div></pre></td></tr></table></figure>
<h4 id="Block-Scoped-Constructs-Let-and-Const（块作用域和构造let和const）"><a href="#Block-Scoped-Constructs-Let-and-Const（块作用域和构造let和const）" class="headerlink" title="Block-Scoped Constructs Let and Const（块作用域和构造let和const）"></a>Block-Scoped Constructs Let and Const（块作用域和构造let和const）</h4><ul>
<li>Let是一种新的变量申明方式，它允许你把变量作用域控制在块级里面。用大括号定义代码块（作用域）</li>
<li>const，它就是一个不变量，也是块级作用域就像let一样。</li>
</ul>
<p><code>before</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">for(var i=0; i&lt;1; i++)&#123;</div><div class="line">    var a=1;</div><div class="line">    &#123;</div><div class="line">        var  a=2;</div><div class="line">        console.log(a) //2</div><div class="line">    &#125;</div><div class="line">    console.log(a)  //2</div><div class="line">&#125;</div><div class="line">console.log(i) //1</div><div class="line">console.log(a) //2</div></pre></td></tr></table></figure>
<p><code>now</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">for(let i=0; i&lt;1; i++)&#123;</div><div class="line">    const a=1;</div><div class="line">    &#123;</div><div class="line">        const  a=2;</div><div class="line">        console.log(a) //2</div><div class="line">    &#125;</div><div class="line">    console.log(a)  //1</div><div class="line">&#125;</div><div class="line">console.log(a) // not defined</div><div class="line">console.log(i) // not defined</div></pre></td></tr></table></figure>
<h4 id="Classes-（类）"><a href="#Classes-（类）" class="headerlink" title="Classes （类）"></a>Classes （类）</h4><p><code>before</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">function Circle(x) &#123;</div><div class="line">   this.x = x;</div><div class="line">&#125;</div><div class="line">Circle.classFn = function() &#123; ... &#125;</div><div class="line"></div><div class="line">Circle.prototype = &#123;</div><div class="line">   fn1() &#123;</div><div class="line">       return ..;</div><div class="line">   &#125;,</div><div class="line"></div><div class="line">   get fn2() &#123;</div><div class="line">       return this.x;</div><div class="line">   &#125;,</div><div class="line">   set fn2(x) &#123;</div><div class="line">       this.x = x*2;</div><div class="line">   &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><code>now</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">class Circle &#123;</div><div class="line">    constructor(x) &#123;</div><div class="line">        this.x = x;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    static classFn() &#123; ... &#125;;</div><div class="line"></div><div class="line">    fn1()&#123;</div><div class="line">        return ..;</div><div class="line">    &#125;</div><div class="line">    get fn2() &#123;</div><div class="line">        return this.x;</div><div class="line">    &#125;;</div><div class="line">    set fn2(val) &#123;</div><div class="line">        this.x = x*2;</div><div class="line">    &#125;;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h4 id="Modules-（模块）"><a href="#Modules-（模块）" class="headerlink" title="Modules （模块）"></a>Modules （模块）</h4><p><code>before</code></p>
<p><code>module.js</code> 有port变量和getAccounts 方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;  port: 3000,  getAccounts: function() &#123;    ...  &#125;&#125;</div></pre></td></tr></table></figure>
<p><code>main.js</code>需要依赖require(‘module’) 导入module.js：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var service = require(&apos;module.js&apos;);console.log(service.port); // 3000</div></pre></td></tr></table></figure>
<p><code>now</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">导出module.js</div><div class="line">export var port = 3000;export function getAccounts(url) &#123;  ...&#125;</div><div class="line"></div><div class="line">导入方式一</div><div class="line">import &#123;port, getAccounts&#125; from &apos;module&apos;;console.log(port); // 3000</div><div class="line"></div><div class="line">导入方式二</div><div class="line">import * as service from &apos;module&apos;;//导入全部模块</div><div class="line">console.log(service.port); // 3000</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/01/ES6新特性/" data-id="ciw7txc4h0003y2vyi8b9qhzs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-WebTechGarden" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/01/WebTechGarden/" class="article-date">
  <time datetime="2016-05-31T16:00:00.000Z" itemprop="datePublished">2016-06-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/01/WebTechGarden/">WebTechGarden</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="99-的人都理解错了HTTP中GET与POST的区别"><a href="#99-的人都理解错了HTTP中GET与POST的区别" class="headerlink" title="99%的人都理解错了HTTP中GET与POST的区别"></a>99%的人都理解错了HTTP中GET与POST的区别</h3><p>GET和POST是HTTP请求的两种基本方法，要说它们的区别，接触过WEB开发的人都能说出一二。</p>
<p>最直观的区别就是GET把参数包含在URL中，POST通过request body传递参数。</p>
<p>你可能自己写过无数个GET和POST请求，或者已经看过很多权威网站总结出的他们的区别，你非常清楚知道什么时候该用什么。</p>
<p>当你在面试中被问到这个问题，你的内心充满了自信和喜悦。</p>
<h5 id="你轻轻松松的给出了一个“标准答案”："><a href="#你轻轻松松的给出了一个“标准答案”：" class="headerlink" title="你轻轻松松的给出了一个“标准答案”："></a>你轻轻松松的给出了一个“标准答案”：</h5><ul>
<li><p>GET在浏览器回退时是无害的，而POST会再次提交请求。</p>
</li>
<li><p>GET产生的URL地址可以被Bookmark，而POST不可以。</p>
</li>
<li><p>GET请求会被浏览器主动cache，而POST不会，除非手动设置。</p>
</li>
<li><p>GET请求只能进行url编码，而POST支持多种编码方式。</p>
</li>
<li><p>GET请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留。</p>
</li>
<li><p>GET请求在URL中传送的参数是有长度限制的，而POST么有。</p>
</li>
<li><p>对参数的数据类型，GET只接受ASCII字符，而POST没有限制。</p>
</li>
<li><p>GET比POST更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息。</p>
</li>
<li><p>GET参数通过URL传递，POST放在Request body中。</p>
</li>
</ul>
<p><code>“很遗憾，这不是我们要的回答！”</code></p>
<p>GET和POST是什么？HTTP协议中的两种发送请求的方法。</p>
<p>HTTP是什么？HTTP是基于TCP/IP的关于数据如何在万维网中如何通信的协议。</p>
<p>HTTP的底层是TCP/IP。所以GET和POST的底层也是TCP/IP，也就是说，GET/POST都是TCP链接。GET和POST能做的事情是一样一样的。你要给GET加上request body，给POST带上url参数，技术上是完全行的通的</p>
<p><code>那么，“标准答案”里的那些区别是怎么回事？</code></p>
<p>在我大万维网世界中，TCP就像汽车，我们用TCP来运输数据，它很可靠，从来不会发生丢件少件的现象。但是如果路上跑的全是看起来一模一样的汽车，那这个世界看起来是一团混乱，送急件的汽车可能被前面满载货物的汽车拦堵在路上，整个交通系统一定会瘫痪。为了避免这种情况发生，交通规则HTTP诞生了。HTTP给汽车运输设定了好几个服务类别，有GET, POST, PUT, DELETE等等，HTTP规定，当执行GET请求的时候，要给汽车贴上GET的标签（设置method为GET），而且要求把传送的数据放在车顶上（url中）以方便记录。如果是POST请求，就要在车上贴上POST的标签，并把货物放在车厢里。当然，你也可以在GET的时候往车厢内偷偷藏点货物，但是这是很不光彩；也可以在POST的时候在车顶上也放一些数据，让人觉得傻乎乎的。HTTP只是个行为准则，而TCP才是GET和POST怎么实现的基本。</p>
<p><code>但是，我们只看到HTTP对GET和POST参数的传送渠道（url还是requrest body）提出了要求。“标准答案”里关于参数大小的限制又是从哪来的呢？</code></p>
<p>在我大万维网世界中，还有另一个重要的角色：运输公司。不同的浏览器（发起http请求）和服务器（接受http请求）就是不同的运输公司。 虽然理论上，你可以在车顶上无限的堆货物（url中无限加参数）。但是运输公司可不傻，装货和卸货也是有很大成本的，他们会限制单次运输量来控制风险，数据量太大对浏览器和服务器都是很大负担。业界不成文的规定是，（大多数）浏览器通常都会限制url长度在2K个字节，而（大多数）服务器最多处理64K大小的url。超过的部分，恕不处理。如果你用GET服务，在request body偷偷藏了数据，不同服务器的处理方式也是不同的，有些服务器会帮你卸货，读出数据，有些服务器直接忽略，所以，虽然GET可以带request body，也不能保证一定能被接收到哦。</p>
<p><code>好了，现在你知道，GET和POST本质上就是TCP链接，并无差别。但是由于HTTP的规定和浏览器/服务器的限制，导致他们在应用过程中体现出一些不同。</code></p>
<h6 id="GET和POST还有一个重大区别，简单的说："><a href="#GET和POST还有一个重大区别，简单的说：" class="headerlink" title="GET和POST还有一个重大区别，简单的说："></a>GET和POST还有一个重大区别，简单的说：</h6><p><code>GET产生一个TCP数据包；POST产生两个TCP数据包。</code></p>
<p>长的说：</p>
<p>对于GET方式的请求，浏览器会把http header和data一并发送出去，服务器响应200（返回数据）；</p>
<p>而对于POST，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok（返回数据）。</p>
<p>也就是说，GET只需要汽车跑一趟就把货送到了，而POST得跑两趟，第一趟，先去和服务器打个招呼“嗨，我等下要送一批货来，你们打开门迎接我”，然后再回头把货送过去。</p>
<p>因为POST需要两步，时间上消耗的要多一点，看起来GET比POST更有效。因此Yahoo团队有推荐用GET替换POST来优化网站性能。但这是一个坑！跳入需谨慎。为什么？</p>
<ul>
<li><p>GET与POST都有自己的语义，不能随便混用。</p>
</li>
<li><p>据研究，在网络环境好的情况下，发一次包的时间和发两次包的时间差别基本可以无视。而在网络环境差的情况下，两次包的TCP在验证数据包完整性上，有非常大的优点。</p>
</li>
<li><p>并不是所有浏览器都会在POST中发送两次包，Firefox就只发送一次。</p>
</li>
</ul>
<p>(本文原创，转载请注明转自微信公众号WebTechGarden)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/06/01/WebTechGarden/" data-id="ciw7txc470000y2vy9vtk97cd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-正则表达式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/10/正则表达式/" class="article-date">
  <time datetime="2016-05-09T16:00:00.000Z" itemprop="datePublished">2016-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/10/正则表达式/">正则表达式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="知道这20个正则表达式，能让你少写1000行代码"><a href="#知道这20个正则表达式，能让你少写1000行代码" class="headerlink" title="知道这20个正则表达式，能让你少写1000行代码"></a>知道这20个正则表达式，能让你少写1000行代码</h2><h3 id="1-校验密码强度"><a href="#1-校验密码强度" class="headerlink" title="1.校验密码强度"></a>1.校验密码强度</h3><p>密码的强度必须是包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间</p>
<pre><code>^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$
</code></pre><h3 id="2-校验中文"><a href="#2-校验中文" class="headerlink" title="2.校验中文"></a>2.校验中文</h3><p>密码的强度必须是包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间。</p>
<pre><code>^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$
</code></pre><h3 id="3-由数字、26个英文字母或下划线组成的字符串"><a href="#3-由数字、26个英文字母或下划线组成的字符串" class="headerlink" title="3.由数字、26个英文字母或下划线组成的字符串"></a>3.由数字、26个英文字母或下划线组成的字符串</h3><pre><code>^\\w+$
</code></pre><h3 id="4-校验E-Mail-地址"><a href="#4-校验E-Mail-地址" class="headerlink" title="4.校验E-Mail 地址"></a>4.校验E-Mail 地址</h3><p>同密码一样，下面是E-mail地址合规性的正则检查语句。</p>
<pre><code>[\\w!#$%&amp;&apos;*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&amp;&apos;*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?
</code></pre><h3 id="5-校验身份证号码"><a href="#5-校验身份证号码" class="headerlink" title="5.校验身份证号码"></a>5.校验身份证号码</h3><p>下面是身份证号码的正则校验。15 或 18位。</p>
<p>15位：</p>
<pre><code>^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$
</code></pre><p>18位：</p>
<pre><code>^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$
</code></pre><h3 id="6-校验日期"><a href="#6-校验日期" class="headerlink" title="6.校验日期"></a>6.校验日期</h3><p>“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。</p>
<pre><code>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$
</code></pre><h3 id="7-校验金额"><a href="#7-校验金额" class="headerlink" title="7.校验金额"></a>7.校验金额</h3><p>金额校验，精确到2位小数。</p>
<pre><code>^[0-9]+(.[0-9]{2})?$
</code></pre><h3 id="8-校验手机号"><a href="#8-校验手机号" class="headerlink" title="8.校验手机号"></a>8.校验手机号</h3><p>下面是国内 13、15、18开头的手机号正则表达式。（可根据目前国内收集号扩展前两位开头号码）</p>
<pre><code>^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$
</code></pre><h3 id="9-判断IE的版本"><a href="#9-判断IE的版本" class="headerlink" title="9.判断IE的版本"></a>9.判断IE的版本</h3><p>IE目前还没被完全取代，很多页面还是需要做版本兼容，下面是IE版本检查的表达式。</p>
<pre><code>^.*MSIE [5-8](?:\\.[0-9]+)?(?!.*Trident\\/[5-9]\\.0).*$
</code></pre><h3 id="10-校验IP-v4地址"><a href="#10-校验IP-v4地址" class="headerlink" title="10.校验IP-v4地址"></a>10.校验IP-v4地址</h3><p>IP4 正则语句。</p>
<pre><code>\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b
</code></pre><h3 id="11-校验IP-v6地址"><a href="#11-校验IP-v6地址" class="headerlink" title="11.校验IP-v6地址"></a>11.校验IP-v6地址</h3><p>IP6 正则语句。</p>
<pre><code>(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))
</code></pre><h3 id="12-检查URL的前缀"><a href="#12-检查URL的前缀" class="headerlink" title="12.检查URL的前缀"></a>12.检查URL的前缀</h3><p>应用开发中很多时候需要区分请求是HTTPS还是HTTP，通过下面的表达式可以取出一个url的前缀然后再逻辑判断。</p>
<pre><code>if (!s.match(/^[a-zA-Z]+:\\/\\//))
</code></pre><p>{<br>    s = ‘http://‘ + s;<br>}</p>
<h3 id="13-提取URL链接"><a href="#13-提取URL链接" class="headerlink" title="13.提取URL链接"></a>13.提取URL链接</h3><p>下面的这个表达式可以筛选出一段文本中的URL。</p>
<pre><code>^(f|ht){1}(tp|tps):\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- ./?%&amp;=]*)?
</code></pre><h3 id="14-文件路径及扩展名校验"><a href="#14-文件路径及扩展名校验" class="headerlink" title="14.文件路径及扩展名校验"></a>14.文件路径及扩展名校验</h3><p>验证windows下文件路径和扩展名（下面的例子中为.txt文件）</p>
<pre><code>^([a-zA-Z]\\:|\\\\)\\\\([^\\\\]+\\\\)*[^\\/:*?&quot;&lt;&gt;|]+\\.txt(l)?$
</code></pre><h3 id="15-提取Color-Hex-Codes"><a href="#15-提取Color-Hex-Codes" class="headerlink" title="15.提取Color Hex Codes"></a>15.提取Color Hex Codes</h3><p>有时需要抽取网页中的颜色代码，可以使用下面的表达式。</p>
<pre><code>^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$
</code></pre><h3 id="16-提取网页图片"><a href="#16-提取网页图片" class="headerlink" title="16.提取网页图片"></a>16.提取网页图片</h3><p>假若你想提取网页中所有图片信息，可以利用下面的表达式。</p>
<pre><code>\\&lt; *[img][^\\\\&gt;]*[src] *= *[\\&quot;\\&apos;]{0,1}([^\\&quot;\\&apos;\\ &gt;]*)
</code></pre><h3 id="17-提取页面超链接"><a href="#17-提取页面超链接" class="headerlink" title="17.提取页面超链接"></a>17.提取页面超链接</h3><p>提取html中的超链接。</p>
<pre><code>(&lt;a\\s*(?!.*\\brel=)[^&gt;]*)(href=&quot;https?:\\/\\/)((?!(?:(?:www\\.)?&apos;.implode(&apos;|(?:www\\.)?&apos;, $follow_list).&apos;))[^&quot;]+)&quot;((?!.*\\brel=)[^&gt;]*)(?:[^&gt;]*)&gt;
</code></pre><h3 id="18-查找CSS属性"><a href="#18-查找CSS属性" class="headerlink" title="18.查找CSS属性"></a>18.查找CSS属性</h3><p>通过下面的表达式，可以搜索到相匹配的CSS属性。</p>
<pre><code>^\\s*[a-zA-Z\\-]+\\s*[:]{1}\\s[a-zA-Z0-9\\s.#]+[;]{1}
</code></pre><h3 id="19-抽取注释"><a href="#19-抽取注释" class="headerlink" title="19.抽取注释"></a>19.抽取注释</h3><p>如果你需要移除HMTL中的注释，可以使用如下的表达式。</p>
<pre><code>&lt;!--(.*?)--&gt;
</code></pre><h3 id="20-匹配HTML标签"><a href="#20-匹配HTML标签" class="headerlink" title="20.匹配HTML标签"></a>20.匹配HTML标签</h3><p>通过下面的表达式可以匹配出HTML中的标签属性。</p>
<pre><code>&lt;\\/?\\w+((\\s+\\w+(\\s*=\\s*(?:&quot;.*?&quot;|&apos;.*?&apos;|[\\^&apos;&quot;&gt;\\s]+))?)+\\s*|\\s*)\\/?&gt;
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/10/正则表达式/" data-id="ciw7txc6b0008y2vymr6zo59d" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-前端自动化工具之—gulp" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/01/前端自动化工具之—gulp/" class="article-date">
  <time datetime="2016-04-30T16:00:00.000Z" itemprop="datePublished">2016-05-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/01/前端自动化工具之—gulp/">前端自动化工具之—gulp</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>  gulp是前端自动化工具，它可以进行html压缩、css压缩合并、js检查压缩、图片压缩、编译less、编译sass等，还可以自动完成开发过程中一些重复的的任务，使我们的工作效率大大的提高呀！那具体如何配置以及使用gulp呢?</p>
<h4 id="1-安装node-js"><a href="#1-安装node-js" class="headerlink" title="1.安装node.js"></a>1.安装node.js</h4><p>1.1 因为gulp是基于node,所以首先我们需要搭建node环境。这一步非常简单，进入node.js官网下载所对应的版本。下载后傻瓜式安装即可。</p>
<p>1.2 打开命令行(window + r)</p>
<p>node -v 查看安装的nodejs版本，出现版本号，说明刚刚已正确安装nodejs</p>
<h4 id="2-安装npm"><a href="#2-安装npm" class="headerlink" title="2.安装npm"></a>2.安装npm</h4><p>2.1 npm是nodejs的包管理器，用于node插件管理（包括安装、卸载、管理依赖等）。</p>
<p>npm -v 查看npm版本号</p>
<p>2.2 使用npm安装插件</p>
<p>npm install gulp-less –save-dev 以安装less为例</p>
<p>2.3 由于npm安装插件是从国外服务器下载，可能出现异常，所以可以直接选择安装cnpm!</p>
<p>npm install cnpm -g –registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="external">https://registry.npm.taobao.org</a></p>
<p><code>cnpm与npm的用法完全一致，执行命令时可以将npm用cnpm代替。</code></p>
<h4 id="3-全局安装gulp"><a href="#3-全局安装gulp" class="headerlink" title="3.全局安装gulp"></a>3.全局安装gulp</h4><p>3.1 安装命令</p>
<p>cnpm install gulp -g</p>
<p>3.2 查看版本</p>
<p>gulp -v</p>
<h4 id="4-新建pakage-json文件"><a href="#4-新建pakage-json文件" class="headerlink" title="4.新建pakage.json文件"></a>4.新建pakage.json文件</h4><p>4.1 package.json是基于nodejs项目必不可少的配置文件，存放在项目根目录下。</p>
<p>4.2 定位到项目文件</p>
<p>cd 项目文件位置</p>
<p>4.3 新建命令</p>
<p>cnpm init</p>
<p>然后一直回车，package.json就新建完成了。不过要注意的是此文件不能添加任何注释哦~</p>
<h4 id="5-本地安装gulp"><a href="#5-本地安装gulp" class="headerlink" title="5.本地安装gulp"></a>5.本地安装gulp</h4><p>5.1 本地安装gulp（定位到项目文件）</p>
<p>cnpm install gulp –save-dev</p>
<p>在这里要跟大家说明的是全局安装gulp是为了执行gulp任务，本地安装gulp则是为了调用gulp的插件。</p>
<p>5.2 安装插件</p>
<p>cnpm install gulp-sass –save-dev 以安装sass插件为例</p>
<h4 id="6-新建gulpfile-js文件"><a href="#6-新建gulpfile-js文件" class="headerlink" title="6.新建gulpfile.js文件"></a>6.新建gulpfile.js文件</h4><p><code>6.1 gulpfile.js是gulp项目的配置文件, 基本如下：</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line">//导入工具包 require(&apos;node_modules里对应模块&apos;)</div><div class="line">var gulp = require(&apos;gulp&apos;);</div><div class="line">var less = require(&apos;gulp-less&apos;);	                 //编译less</div><div class="line">var sass = require(&apos;gulp-sass&apos;);                     //编译sass</div><div class="line">var htmlmin = require(&apos;gulp-htmlmin&apos;);           //html压缩</div><div class="line">var minifycss = require(&apos;gulp-minify-css&apos;);     //css压缩</div><div class="line">var concat = require(&apos;gulp-concat&apos;);               //文件合并</div><div class="line">var uglify = require(&apos;gulp-uglify&apos;);                    //js压缩</div><div class="line">var rename = require(&apos;gulp-rename&apos;);	           //重命名</div><div class="line">var jshint = require(&apos;gulp-jshint&apos;);	                   //js检查</div><div class="line">var imagemin = require(&apos;gulp-imagemin&apos;);	    //压缩图片</div><div class="line">var cache = require(&apos;gulp-cache&apos;);                //图片压缩缓存</div><div class="line">var clean = require(&apos;gulp-clean&apos;);	                 //清空文件夹</div><div class="line">var rev = require(&apos;gulp-rev&apos;);	     //更改版本号//定义一个less任务（自定义任务名称）</div><div class="line">gulp.task(&apos;less&apos;, function () &#123;</div><div class="line">    return gulp.src(&apos;./src/style.less&apos;)              //需要操作的文件</div><div class="line">        .pipe(less())	                                     //该任务调用的模块</div><div class="line">        .pipe(gulp.dest(&apos;./dest&apos;))	                    //文件导出的位置</div><div class="line">&#125;)</div><div class="line">//定义一个sass任务（自定义任务名称）</div><div class="line">gulp.task(&apos;sass&apos;, function () &#123;</div><div class="line">    return gulp.src(&apos;./src/style2.scss&apos;)</div><div class="line">        .pipe(sass())</div><div class="line">        .pipe(gulp.dest(&apos;./dest&apos;))</div><div class="line">&#125;)</div><div class="line">//语法检查</div><div class="line">gulp.task(&apos;jshint&apos;, function () &#123;</div><div class="line">    return gulp.src(&apos;./src/js/*.js&apos;)</div><div class="line">        .pipe(jshint())</div><div class="line">        .pipe(jshint.reporter(&apos;default&apos;));</div><div class="line">&#125;);</div><div class="line">//压缩html</div><div class="line">gulp.task(&apos;htmlmin&apos;, function () &#123;</div><div class="line">    var options = &#123;</div><div class="line">        collapseWhitespace: true,</div><div class="line">        collapseBooleanAttributes: true,</div><div class="line">        removeComments: true,</div><div class="line">        removeEmptyAttributes: true,</div><div class="line">        removeScriptTypeAttributes: true,</div><div class="line">        removeStyleLinkTypeAttributes: true,</div><div class="line">        minifyJS: true,</div><div class="line">        minifyCSS: true</div><div class="line">    &#125;;</div><div class="line">    gulp.src(&apos;./src/html/*.html&apos;)</div><div class="line">        .pipe(htmlmin(options))</div><div class="line">        .pipe(gulp.dest(&apos;html&apos;));</div><div class="line">&#125;);</div><div class="line">//压缩css</div><div class="line">gulp.task(&apos;minifycss&apos;, function () &#123;</div><div class="line">    return gulp.src(&apos;./src/css/*.css&apos;)</div><div class="line">        .pipe(concat(&apos;main.css&apos;))    	//合并所有css到all.css</div><div class="line">        .pipe(gulp.dest(&apos;css&apos;))   //输出文件夹</div><div class="line">        .pipe(rename(&#123;suffix: &apos;.min&apos;&#125;))   //rename压缩后的文件名</div><div class="line">        .pipe(minifycss())   //执行压缩</div><div class="line">        .pipe(gulp.dest(&apos;css&apos;));   //输出文件夹</div><div class="line">&#125;);</div><div class="line">//压缩，合并 js</div><div class="line">gulp.task(&apos;minifyjs&apos;, function () &#123;</div><div class="line">    return gulp.src(&apos;./src/js/*.js&apos;)</div><div class="line">        .pipe(concat(&apos;event.js&apos;))    	//合并所有js到main.js</div><div class="line">        .pipe(gulp.dest(&apos;js&apos;))      	   //输出到文件夹</div><div class="line">        .pipe(rename(&#123;suffix: &apos;.min&apos;&#125;))     //rename压缩后的文件名</div><div class="line">        .pipe(uglify())    	//压缩</div><div class="line">        .pipe(gulp.dest(&apos;js&apos;));  	//输出</div><div class="line">&#125;);</div><div class="line">//压缩图片</div><div class="line">gulp.task(&apos;minifyImg&apos;, function () &#123;</div><div class="line">    return gulp.src(&apos;./src/img/*&apos;)</div><div class="line">        .pipe(imagemin())</div><div class="line">        .pipe(gulp.dest(&apos;image&apos;));</div><div class="line">&#125;)</div><div class="line">//文件清理</div><div class="line">//执行压缩前，先删除以前压缩的文件</div><div class="line">gulp.task(&apos;clean&apos;, function () &#123;</div><div class="line">    return del([&apos;./css/all.css&apos;, &apos;./css/all.min.css&apos;, &apos;./lib/all.js&apos;, &apos;./lib/all.min.js&apos;])</div><div class="line">&#125;);</div><div class="line">//定义默认任务</div><div class="line">//压缩js需要在检查js之后操作</div><div class="line">gulp.task(&apos;default&apos;, [&apos;less&apos;, &apos;sass&apos;, &apos;jshint&apos;], function () &#123;</div><div class="line">    gulp.start(&apos;minifycss&apos;, &apos;minifyjs&apos;, &apos;minifyImg&apos;, &apos;htmlmin&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h4 id="7-运行gulp"><a href="#7-运行gulp" class="headerlink" title="7.运行gulp"></a>7.运行gulp</h4><p>最后回到命令行，直接输入gulp即可运行！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/01/前端自动化工具之—gulp/" data-id="ciw7txc4r0006y2vylensh11e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-node-js" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/13/node-js/" class="article-date">
  <time datetime="2016-04-12T16:00:00.000Z" itemprop="datePublished">2016-04-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/13/node-js/">node.js之fs模块</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Node-js的文件系统的Api"><a href="#Node-js的文件系统的Api" class="headerlink" title="Node.js的文件系统的Api"></a>Node.js的文件系统的Api</h3><pre><code>//公共引用
var fs = require(&apos;fs&apos;),
path = require(&apos;path&apos;);
</code></pre><h3 id="1-读取文件readFile函数"><a href="#1-读取文件readFile函数" class="headerlink" title="1.读取文件readFile函数"></a>1.读取文件readFile函数</h3><pre><code>//readFile(filename,[options],callback);
/**
 * filename, 必选参数，文件名
* [options],可选参数，可指定flag（文件操作选项，如r+ 读写；w+ 读写，文件不存在则创建）及encoding属性
 * callback 读取文件后的回调函数，参数默认第一个err,第二个data 数据
 */
fs.readFile(__dirname + &apos;/test.txt&apos;, {flag: &apos;r+&apos;, encoding: &apos;utf8&apos;}, function (err, data) {
    if(err) {
     console.error(err);
     return;
    }
    console.log(data);
});
</code></pre><h3 id="2-写文件"><a href="#2-写文件" class="headerlink" title="2.写文件"></a>2.写文件</h3><pre><code>// fs.writeFile(filename,data,[options],callback);
var w_data = &apos;这是一段通过fs.writeFile函数写入的内容；\r\n&apos;;
var w_data = new Buffer(w_data);
/**
 * filename, 必选参数，文件名
 * data, 写入的数据，可以字符或一个Buffer对象
 * [options],flag,mode(权限),encoding
 * callback 读取文件后的回调函数，参数默认第一个err,第二个data 数据
 */
fs.writeFile(__dirname + &apos;/test.txt&apos;, w_data, {flag: &apos;a&apos;},function (err) {
   if(err) {
    console.error(err);
    } else {
       console.log(&apos;写入成功&apos;);
    }
});
</code></pre><h3 id="3-以追加方式写文件"><a href="#3-以追加方式写文件" class="headerlink" title="3.以追加方式写文件"></a>3.以追加方式写文件</h3><pre><code>// fs.appendFile(filename,data,[options],callback);
fs.appendFile(__dirname + &apos;/test.txt&apos;, &apos;使用fs.appendFile追加文件内容&apos;, function () {
  console.log(&apos;追加内容完成&apos;);
});
</code></pre><h3 id="4-打开文件"><a href="#4-打开文件" class="headerlink" title="4.打开文件"></a>4.打开文件</h3><pre><code>// fs.open(filename, flags, [mode], callback);
/**
 * filename, 必选参数，文件名
 * flags, 操作标识，如&quot;r&quot;,读方式打开
 * [mode],权限，如777，表示任何用户读写可执行
 * callback 打开文件后回调函数，参数默认第一个err,第二个fd为一个整数，表示打开文件返回的文件描述符，window中又称文件句柄
 */
fs.open(__dirname + &apos;/test.txt&apos;, &apos;r&apos;, &apos;0666&apos;, function (err, fd) {
  console.log(fd);
});
</code></pre><h3 id="5-读文件，读取打开的文件内容到缓冲区中；"><a href="#5-读文件，读取打开的文件内容到缓冲区中；" class="headerlink" title="5.读文件，读取打开的文件内容到缓冲区中；"></a>5.读文件，读取打开的文件内容到缓冲区中；</h3><pre><code>//fs.read(fd, buffer, offset, length, position, callback);
/**
 * fd, 使用fs.open打开成功后返回的文件描述符
 * buffer, 一个Buffer对象，v8引擎分配的一段内存
 * offset, 整数，向缓存区中写入时的初始位置，以字节为单位
 * length, 整数，读取文件的长度
 * position, 整数，读取文件初始位置；文件大小以字节为单位
 * callback(err, bytesRead, buffer), 读取执行完成后回调函数，bytesRead实际读取字节数，被读取的缓存区对象
 */
fs.open(__dirname + &apos;/test.txt&apos;, &apos;r&apos;, function (err, fd) {
  if(err) {
console.error(err);
return;
  } else {
var buffer = new Buffer(255);
console.log(buffer.length);
//每一个汉字utf8编码是3个字节，英文是1个字节
fs.read(fd, buffer, 0, 9, 3, function (err, bytesRead, buffer) {
  if(err) {
    throw err;
  } else {
    console.log(bytesRead);
    console.log(buffer.slice(0, bytesRead).toString());
    //读取完后，再使用fd读取时，基点是基于上次读取位置计算；
    fs.read(fd, buffer, 0, 9, null, function (err, bytesRead, buffer) {
      console.log(bytesRead);
      console.log(buffer.slice(0, bytesRead).toString());
    });
  }
});
  }});
</code></pre><h3 id="6-写文件，将缓冲区内数据写入使用fs-open打开的文件"><a href="#6-写文件，将缓冲区内数据写入使用fs-open打开的文件" class="headerlink" title="6.写文件，将缓冲区内数据写入使用fs.open打开的文件"></a>6.写文件，将缓冲区内数据写入使用fs.open打开的文件</h3><pre><code>//fs.write(fd, buffer, offset, length, position, callback);
/**
 * fd, 使用fs.open打开成功后返回的文件描述符
 * buffer, 一个Buffer对象，v8引擎分配的一段内存
 * offset, 整数，从缓存区中读取时的初始位置，以字节为单位
 * length, 整数，从缓存区中读取数据的字节数
 * position, 整数，写入文件初始位置；
 * callback(err, written, buffer), 写入操作执行完成后回调函数，written实际写入字节数，buffer被读取的缓存区对象
 */
fs.open(__dirname + &apos;/test.txt&apos;, &apos;a&apos;, function (err, fd) {
  if(err) {
console.error(err);
return;
  } else {
var buffer = new Buffer(&apos;写入文件数据内容&apos;);
//写入&apos;入文件&apos;三个字
fs.write(fd, buffer, 3, 9, 12, function (err, written, buffer) {
  if(err) {
    console.log(&apos;写入文件失败&apos;);
    console.error(err);
    return;
  } else {
    console.log(buffer.toString());
    //写入&apos;数据内&apos;三个字
    fs.write(fd, buffer, 12, 9, null, function (err, written, buffer) {
      console.log(buffer.toString());
    })
  }
});
  }
});
</code></pre><h3 id="7-刷新缓存区"><a href="#7-刷新缓存区" class="headerlink" title="7.刷新缓存区"></a>7.刷新缓存区</h3><pre><code>// 使用fs.write写入文件时，操作系统是将数据读到内存，再把数据写入到文件中，当数据读完时并不代表数据已经写完，因为有一部分还可能在内在缓冲区内。
// 因此可以使用fs.fsync方法将内存中数据写入文件；--刷新内存缓冲区；
//fs.fsync(fd, [callback])
/**
 * fd, 使用fs.open打开成功后返回的文件描述符
 * [callback(err, written, buffer)], 写入操作执行完成后回调函数，written实际写入字节数，buffer被读取的缓存区对象
 */
fs.open(__dirname + &apos;/test.txt&apos;, &apos;a&apos;, function (err, fd) {
  if(err)
throw err;
  var buffer = new Buffer(&apos;我爱nodejs编程&apos;);
  fs.write(fd, buffer, 0, 9, 0, function (err, written, buffer) {
console.log(written.toString());
fs.write(fd, buffer, 9, buffer.length - 9, null, function (err, written) {
  console.log(written.toString());
  fs.fsync(fd);
  fs.close(fd);
})
  });
});
</code></pre><h3 id="8-创建目录"><a href="#8-创建目录" class="headerlink" title="8.创建目录;"></a>8.创建目录;</h3><pre><code>//使用fs.mkdir创建目录
//fs.mkdir(path, [mode], callback);
/**
 * path, 被创建目录的完整路径及目录名；
 * [mode], 目录权限，默认0777
 * [callback(err)], 创建完目录回调函数,err错误对象
 */
fs.mkdir(__dirname + &apos;/fsDir&apos;, function (err) {
  if(err)
throw err;
  console.log(&apos;创建目录成功&apos;)
});
</code></pre><h3 id="9-读取目录"><a href="#9-读取目录" class="headerlink" title="9.读取目录"></a>9.读取目录</h3><pre><code>//使用fs.readdir读取目录，重点其回调函数中files对象
//fs.readdir(path, callback);
/**
 * path, 要读取目录的完整路径及目录名；
 * [callback(err, files)], 读完目录回调函数；err错误对象，files数组，存放读取到的目录中的所有文件名
 */
fs.readdir(__dirname + &apos;/fsDir/&apos;, function (err, files) {
  if(err) {
console.error(err);
return;
  } else {
files.forEach(function (file) {
  var filePath = path.normalize(__dirname + &apos;/fsDir/&apos; + file);
  fs.stat(filePath, function (err, stat) {
    if(stat.isFile()) {
      console.log(filePath + &apos; is: &apos; + &apos;file&apos;);
    }
    if(stat.isDirectory()) {
      console.log(filePath + &apos; is: &apos; + &apos;dir&apos;);
    }
  });
});
for (var i = 0; i &lt; files.length; i++) {
  //使用闭包无法保证读取文件的顺序与数组中保存的致
  (function () {
    var filePath = path.normalize(__dirname + &apos;/fsDir/&apos; + files[i]);
    fs.stat(filePath, function (err, stat) {
      if(stat.isFile()) {
        console.log(filePath + &apos; is: &apos; + &apos;file&apos;);
      }
      if(stat.isDirectory()) {
        console.log(filePath + &apos; is: &apos; + &apos;dir&apos;);
      }
    });
  })();
}
  }
});
</code></pre><h3 id="10-查看文件与目录的信息"><a href="#10-查看文件与目录的信息" class="headerlink" title="10.查看文件与目录的信息"></a>10.查看文件与目录的信息</h3><pre><code>//fs.stat(path, callback);
//fs.lstat(path, callback); //查看符号链接文件
/**
 * path, 要查看目录/文件的完整路径及名；
 * [callback(err, stats)], 操作完成回调函数；err错误对象，stat fs.Stat一个对象实例，提供如:isFile, isDirectory,isBlockDevice等方法及size,ctime,mtime等属性
 */
//实例，查看fs.readdir
</code></pre><h3 id="11-查看文件与目录的是否存在"><a href="#11-查看文件与目录的是否存在" class="headerlink" title="11.查看文件与目录的是否存在"></a>11.查看文件与目录的是否存在</h3><pre><code>//fs.exists(path, callback);
/**
 * path, 要查看目录/文件的完整路径及名；
 * [callback(exists)], 操作完成回调函数；exists true存在，false表示不存在
 */
fs.exists(__dirname + &apos;/te&apos;, function (exists) {
  var retTxt = exists ? retTxt = &apos;文件存在&apos; : &apos;文件不存在&apos;;
  console.log(retTxt);
});
</code></pre><h3 id="12-修改文件访问时间与修改时间"><a href="#12-修改文件访问时间与修改时间" class="headerlink" title="12.修改文件访问时间与修改时间"></a>12.修改文件访问时间与修改时间</h3><pre><code>//fs.utimes(path, atime, mtime, callback);
/**
 * path, 要查看目录/文件的完整路径及名；
 * atime, 新的访问时间
 * ctime, 新的修改时间
 * [callback(err)], 操作完成回调函数；err操作失败对象
 */
fs.utimes(__dirname + &apos;/test.txt&apos;, new Date(), new Date(), function (err) {
  if(err) {
console.error(err);
return;
  }
  fs.stat(__dirname + &apos;/test.txt&apos;, function (err, stat) {
console.log(&apos;访问时间: &apos; + stat.atime.toString() + &apos;; \n修改时间：&apos; + stat.mtime);
console.log(stat.mode);
  })
});
</code></pre><h3 id="13-修改文件或目录的操作权限"><a href="#13-修改文件或目录的操作权限" class="headerlink" title="13.修改文件或目录的操作权限"></a>13.修改文件或目录的操作权限</h3><pre><code>//fs.utimes(path, mode, callback);
/**
 * path, 要查看目录/文件的完整路径及名；
 * mode, 指定权限，如：0666 8进制，权限：所有用户可读、写，
 * [callback(err)], 操作完成回调函数；err操作失败对象
 */
fs.chmod(__dirname + &apos;/fsDir&apos;, 0666, function (err) {
  if(err) {
console.error(err);
return;
  }
  console.log(&apos;修改权限成功&apos;)
});
</code></pre><h3 id="14-移动-重命名文件或目录"><a href="#14-移动-重命名文件或目录" class="headerlink" title="14.移动/重命名文件或目录"></a>14.移动/重命名文件或目录</h3><pre><code>//fs.rename(oldPath, newPath, callback);
</code></pre><p>/**</p>
<ul>
<li>oldPath, 原目录/文件的完整路径及名；</li>
<li>newPath, 新目录/文件的完整路径及名；如果新路径与原路径相同，而只文件名不同，则是重命名</li>
<li><p>[callback(err)], 操作完成回调函数；err操作失败对象<br>*/<br>fs.rename(<strong>dirname + ‘/test’, </strong>dirname + ‘/fsDir’, function (err) {<br>if(err) {<br> console.error(err);<br> return;<br>}<br>console.log(‘重命名成功’)<br>});</p>
<h3 id="15、删除空目录"><a href="#15、删除空目录" class="headerlink" title="15、删除空目录"></a>15、删除空目录</h3><p> //fs.rmdir(path, callback);<br> /**</p>
<ul>
<li>path, 目录的完整路径及目录名；</li>
<li>[callback(err)], 操作完成回调函数；err操作失败对象<br>*/<br>fs.rmdir(<strong>dirname + ‘/test’, function (err) {<br>fs.mkdir(</strong>dirname + ‘/test’, 0666, function (err) {<br>console.log(‘创建test目录’);<br>});<br>if(err) {<br>console.log(‘删除空目录失败，可能原因：1、目录不存在，2、目录不为空’)<br>console.error(err);<br>return;<br>}<br>console.log(‘删除空目录成功!’);<br>});</li>
</ul>
<p>原文链接：<br><a href="http://www.jianshu.com/p/5683c8a93511" target="_blank" rel="external">http://www.jianshu.com/p/5683c8a93511</a></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/04/13/node-js/" data-id="ciw7txc4i0004y2vy0b92gv1a" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-16个上谷歌的方法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/01/16个上谷歌的方法/" class="article-date">
  <time datetime="2015-12-31T16:00:00.000Z" itemprop="datePublished">2016-01-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/01/16个上谷歌的方法/">16个上谷歌的方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://guge.io/" target="_blank" rel="external">https://guge.io/</a><br><a href="http://www.g363.com/" target="_blank" rel="external">http://www.g363.com/</a><br><a href="http://web.btbook.net/" target="_blank" rel="external">http://web.btbook.net/</a><br><a href="https://www.out1000.com/" target="_blank" rel="external">https://www.out1000.com/</a><br><a href="http://www.googke.me/" target="_blank" rel="external">http://www.googke.me/</a><br><a href="http://www.wow.com/" target="_blank" rel="external">http://www.wow.com/</a><br><a href="https://www.booo.so/" target="_blank" rel="external">https://www.booo.so/</a><br><a href="http://gl.randomk.org/" target="_blank" rel="external">http://gl.randomk.org/</a><br><a href="http://www.googleforchina.com/index_desktop.html" target="_blank" rel="external">http://www.googleforchina.com/index_desktop.html</a><br><a href="http://google.ihuan.me/" target="_blank" rel="external">http://google.ihuan.me/</a><br><a href="http://www.gugesou.com/" target="_blank" rel="external">http://www.gugesou.com/</a><br><a href="http://www.egeso.com/" target="_blank" rel="external">http://www.egeso.com/</a><br><a href="http://ggsousuo.duapp.com/" target="_blank" rel="external">http://ggsousuo.duapp.com/</a><br><a href="http://so.jieshang.net/" target="_blank" rel="external">http://so.jieshang.net/</a><br><a href="https://www.gotosearch.info/" target="_blank" rel="external">https://www.gotosearch.info/</a><br><a href="http://www.googto.com/" target="_blank" rel="external">http://www.googto.com/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/01/01/16个上谷歌的方法/" data-id="ciw7txc4c0001y2vyn61rd0b8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Mongodb" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/01/Mongodb/" class="article-date">
  <time datetime="2015-11-01T00:00:00.000Z" itemprop="datePublished">2015-11-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/01/Mongodb/">Mongodb</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Mongodb"><a href="#Mongodb" class="headerlink" title="Mongodb"></a>Mongodb</h2><hr>
<h3 id="1-创建数据库"><a href="#1-创建数据库" class="headerlink" title="1.创建数据库"></a>1.创建数据库</h3><p><code>use DATABASE_NAME</code></p>
<hr>
<h3 id="2-删除数据库"><a href="#2-删除数据库" class="headerlink" title="2.删除数据库"></a>2.删除数据库</h3><p><code>db.dropDatabase()</code></p>
<hr>
<h3 id="3-插入文档"><a href="#3-插入文档" class="headerlink" title="3.插入文档"></a>3.插入文档</h3><p><code>db.COLLECTION_NAME.insert(document)</code></p>
<hr>
<h3 id="4-更新文档"><a href="#4-更新文档" class="headerlink" title="4.更新文档"></a>4.更新文档</h3><p><code>db.collection.update(&lt;query&gt;,&lt;update&gt;,{upsert: &lt;boolean&gt;,multi:&lt;boolean&gt;,writeConcern: &lt;document&gt;})</code></p>
<p><code>query:update</code>的查询条件，类似sql update查询内where后面的。</p>
<p><code>update:update</code>的对象和一些更新的操作符（如<strong>$,$inc…</strong>）等，也可以理解为<strong>sql update</strong>查询内<strong>set</strong>后面的</p>
<p><code>multi:</code>可选，<strong>mongodb</strong> 默认是<strong>false</strong>,只更新找到的第一条记录，如果这个参数为<strong>true</strong>,就把按条件查出来多条记录全部更新。</p>
<p><code>writeConcern:</code>可选，抛出异常的级别。</p>
<hr>
<h3 id="5-删除文档"><a href="#5-删除文档" class="headerlink" title="5.删除文档"></a>5.删除文档</h3><p><code>remove()</code> 方法的基本语法格式如下所示：</p>
<p><code>db.collection.remove(&lt;query&gt;,&lt;justOne&gt;)</code></p>
<p>如果你的 <strong>MongoDB</strong>是<strong>2.6</strong>版本以后的，语法格式如下：</p>
<p><code>db.collection.remove(&lt;query&gt;,{justOne: &lt;boolean&gt;,writeConcern: &lt;document&gt;})</code></p>
<p><code>query</code>:（可选）删除的文档的条件。</p>
<p><code>justOne</code> : （可选）如果设为 <strong>true</strong> 或 <strong>1</strong>，则只删除一个文档。</p>
<p><code>writeConcern</code> :（可选）抛出异常的级别。</p>
<hr>
<h3 id="6-查询文档"><a href="#6-查询文档" class="headerlink" title="6.查询文档"></a>6.查询文档</h3><p><code>MongoDB</code> 查询数据的语法格式如下：</p>
<p><code>MongoDB 查询数据的语法格式如下：</code></p>
<p><code>find()</code> 方法以非结构化的方式来显示所有文档。<br>如果你需要以易读的方式来读取数据，可以使用 <strong>pretty()</strong> 方法，语法格式如下：</p>
<p><code>db.col.find().pretty()</code></p>
<p><code>pretty()</code> 方法以格式化的方式来显示所有文档</p>
<hr>
<h3 id="7-排序"><a href="#7-排序" class="headerlink" title="7.排序"></a>7.排序</h3><p>在<strong>MongoDB</strong>中使用使用<strong>sort()</strong>方法对数据进行排序，<strong>sort()</strong>方法可以通过参数指定排序的字段，并使用 <strong>1</strong> 和 <strong>-1</strong> 来指定排序的方式，其中 <strong>1</strong> 为升序排列，而<strong>-1</strong>是用于降序排列</p>
<p><code>sort()</code>方法基本语法如下所示：</p>
<p><code>db.COLLECTION_NAME.find().sort({KEY:1})</code></p>
<hr>
<h3 id="8-索引"><a href="#8-索引" class="headerlink" title="8.索引"></a>8.索引</h3><p>索引通常能够极大的提高查询的效率，如果没有索引，<strong>MongoDB</strong>在读取数据时必须扫描集合中的每个文件并选取那些符合查询条件的记录</p>
<p><strong>MongoDB</strong>使用 <strong>ensureIndex()</strong> 方法来创建索引</p>
<p><code>ensureIndex()</code>方法基本语法格式如下所示</p>
<p><code>db.COLLECTION_NAME.ensureIndex({KEY:1})</code></p>
<p>语法中 <strong>Key</strong> 值为你要创建的索引字段，<strong>1</strong>为指定按升序创建索引，如果你想按降序来创建索引指定为<strong>-1</strong>即可</p>
<hr>
<h3 id="9-聚合"><a href="#9-聚合" class="headerlink" title="9.聚合"></a>9.聚合</h3><p><strong>MongoDB</strong>中聚合(<strong>aggregate</strong>)主要用于处理数据(诸如统计平均值,求和等)，并返回计算后的数据结果。有点类似<strong>sql</strong>语句中的 <strong>count(*)</strong></p>
<p><strong>MongoDB</strong>中聚合的方法使用<strong>aggregate()</strong></p>
<p><code>aggregate()</code> 方法的基本语法格式如下所示：</p>
<p><code>db.COLLECTION_NAME.aggregate(AGGREGATE_OPERATION)</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/11/01/Mongodb/" data-id="ciw7txc4l0005y2vyymw4qo2m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-HTML优化" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/25/HTML优化/" class="article-date">
  <time datetime="2015-10-24T16:00:00.000Z" itemprop="datePublished">2015-10-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/25/HTML优化/">HTML 优化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-减少HTTP请求次数"><a href="#1-减少HTTP请求次数" class="headerlink" title="1.减少HTTP请求次数"></a>1.减少HTTP请求次数</h3><p>尽量合并图片、CSS、JS。比如加载一个页面，如果有5个css文件的话，那么会发出5次http请求，这样会让用户第一次访问你的页面的时候会长时间等待。而如果把这个5个文件合成一个的话，就只需要发出一次http请求，节省网络请求时间，加快页面的加载。</p>
<h3 id="2-把CSS放到顶部"><a href="#2-把CSS放到顶部" class="headerlink" title="2.把CSS放到顶部"></a>2.把CSS放到顶部</h3><p>网页上的资源加载时从上网下顺序加载的，所以css放在页面的顶部能够优先渲染页面，让用户感觉页面加载很快。</p>
<h3 id="3-把JS放到底部"><a href="#3-把JS放到底部" class="headerlink" title="3.把JS放到底部"></a>3.把JS放到底部</h3><p>加载js时会对后续的资源造成阻塞，必须得等js加载完才去加载后续的文件 ，所以就把js放在页面底部最后加载。</p>
<h3 id="4-将CSS和JS放到外部文件中"><a href="#4-将CSS和JS放到外部文件中" class="headerlink" title="4.将CSS和JS放到外部文件中"></a>4.将CSS和JS放到外部文件中</h3><p>目的是缓存文件，可以参考原则4。 但有时候为了减少请求，也会直接写到页面里，需根据PV和IP的比例权衡。</p>
<h3 id="5-删除重复的JS和CSS"><a href="#5-删除重复的JS和CSS" class="headerlink" title="5.删除重复的JS和CSS"></a>5.删除重复的JS和CSS</h3><p>重复调用脚本，除了增加额外的HTTP请求外，多次运算也会浪费时间。在IE和Firefox中不管脚本是否可缓存，它们都存在重复运算JavaScript的问题。</p>
<h3 id="6-减少DOM元素数量"><a href="#6-减少DOM元素数量" class="headerlink" title="6. 减少DOM元素数量"></a>6. 减少DOM元素数量</h3><p>这是一门大学问，这里可以引申出一堆优化的细节。想要具体研究的可以看后面推荐书籍。总之大原则减少DOM数量，就会减少浏览器的解析负担。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/25/HTML优化/" data-id="ciw7txc4e0002y2vy74yaoit3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/09/30/op/">React Native</a>
          </li>
        
          <li>
            <a href="/2016/09/01/ES6新特性/">ES6</a>
          </li>
        
          <li>
            <a href="/2016/06/01/WebTechGarden/">WebTechGarden</a>
          </li>
        
          <li>
            <a href="/2016/05/10/正则表达式/">正则表达式</a>
          </li>
        
          <li>
            <a href="/2016/05/01/前端自动化工具之—gulp/">前端自动化工具之—gulp</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 范明涛<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>